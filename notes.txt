--- Créer deux conteneurs Docker

docker run -d --name ubuntu_host1 -p 2222:22 ubuntu:latest
docker run -d --name ubuntu_host2 -p 2223:22 ubuntu:latest

OU 

docker run -d --name ubuntu_host1 -p 2222:22 ubuntu:latest sleep infinity
docker run -d --name ubuntu_host2 -p 2223:22 ubuntu:latest sleep infinity

--- Configurer SSH

docker exec -it ubuntu_host1 bash
apt update && apt install -y openssh-server
service ssh start
passwd root  # Définissez un mot de passe pour root
exit

--- Configurer les clés SSH

cat ~/.ssh/id_rsa.pub | docker exec -i ubuntu_host1 bash -c 'mkdir -p /root/.ssh && cat >> /root/.ssh/authorized_keys && chmod 600 /root/.ssh/authorized_keys && chmod 700 /root/.ssh'
cat ~/.ssh/id_rsa.pub | docker exec -i ubuntu_host2 bash -c 'mkdir -p /root/.ssh && cat >> /root/.ssh/authorized_keys && chmod 600 /root/.ssh/authorized_keys && chmod 700 /root/.ssh'

mdp : TPpassword

--- lancer

ansible-playbook -i inventory playbook.yml
